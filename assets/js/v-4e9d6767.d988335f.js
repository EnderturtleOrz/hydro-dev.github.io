"use strict";(self.webpackChunkhydro_dev_github_io=self.webpackChunkhydro_dev_github_io||[]).push([[7193],{8781:(e,t,l)=>{l.r(t),l.d(t,{data:()=>i});const i=JSON.parse('{"key":"v-4e9d6767","path":"/docs/system/onsite-contest.html","title":"现场赛指南","lang":"en-US","frontmatter":{"description":"本指南适用于希望进行线下赛，在内网部署评测设施的用户。 以下日期排期仅供参考，具体可根据实际情况自行安排。 本文部分内容同样适用于 DOMJudge。 Day -1 准备工作 请检查下述列表是否均按需求配置完成： 关于选手机设置： 选手机预装了 Linux 系统，并有对应的开发环境。; 推荐使用 CAICPC 作为安装镜像，直接选择第二项启动选项即可一...","head":[["meta",{"property":"og:url","content":"https://hydro.js.org/docs/system/onsite-contest.html"}],["meta",{"property":"og:site_name","content":"Hydro"}],["meta",{"property":"og:title","content":"现场赛指南"}],["meta",{"property":"og:description","content":"本指南适用于希望进行线下赛，在内网部署评测设施的用户。 以下日期排期仅供参考，具体可根据实际情况自行安排。 本文部分内容同样适用于 DOMJudge。 Day -1 准备工作 请检查下述列表是否均按需求配置完成： 关于选手机设置： 选手机预装了 Linux 系统，并有对应的开发环境。; 推荐使用 CAICPC 作为安装镜像，直接选择第二项启动选项即可一..."}],["meta",{"property":"og:type","content":"article"}],["meta",{"property":"og:locale","content":"en-US"}],["meta",{"property":"og:updated_time","content":"2024-07-13T14:37:53.000Z"}],["meta",{"property":"article:modified_time","content":"2024-07-13T14:37:53.000Z"}],["script",{"type":"application/ld+json"},"{\\"@context\\":\\"https://schema.org\\",\\"@type\\":\\"Article\\",\\"headline\\":\\"现场赛指南\\",\\"image\\":[\\"\\"],\\"dateModified\\":\\"2024-07-13T14:37:53.000Z\\",\\"author\\":[]}"]]},"headers":[{"level":2,"title":"Day -1 准备工作","slug":"day-1-准备工作","link":"#day-1-准备工作","children":[]},{"level":2,"title":"Day 0 准备工作","slug":"day-0-准备工作","link":"#day-0-准备工作","children":[]},{"level":2,"title":"Day 1 热身赛","slug":"day-1-热身赛","link":"#day-1-热身赛","children":[]},{"level":2,"title":"Day 2 正式赛","slug":"day-2-正式赛","link":"#day-2-正式赛","children":[]}],"git":{"createdTime":1720881473000,"updatedTime":1720881473000,"contributors":[{"name":"undefined","email":"i@undefined.moe","commits":1}]},"readingTime":{"minutes":3.02,"words":906},"filePathRelative":"docs/system/onsite-contest.md","localizedDate":"July 13, 2024","autoDesc":true,"excerpt":""}')},2535:(e,t,l)=>{l.r(t),l.d(t,{default:()=>p});var i=l(6252);const a=(0,i.uE)('<h1 id="现场赛指南" tabindex="-1"><a class="header-anchor" href="#现场赛指南"><span>现场赛指南</span></a></h1><p>本指南适用于希望进行线下赛，在内网部署评测设施的用户。<br> 以下日期排期仅供参考，具体可根据实际情况自行安排。</p><p>本文部分内容同样适用于 DOMJudge。</p><h2 id="day-1-准备工作" tabindex="-1"><a class="header-anchor" href="#day-1-准备工作"><span>Day -1 准备工作</span></a></h2><p>请检查下述列表是否均按需求配置完成：</p><p>关于选手机设置：</p><ul><li>选手机预装了 Linux 系统，并有对应的开发环境。</li><li>推荐使用 CAICPC 作为安装镜像，直接选择第二项启动选项即可一键安装。</li><li>选手机均连接到内网，且选手机之间无法互相访问，但可以访问公网服务器（若使用的路由器不支持该功能可以在选手机使用 iptables 拦截其他流量）。</li><li>可使用 DHCP 配置选手机网络，但需保证地址租期足够长（推荐七天）。</li></ul><p>关于服务器设置：</p>',8),o=(0,i._)("li",null,"服务器使用固定 IP，并可以访问内网中任何设备（含选手机）；",-1),n={href:"https://blog.taoky.moe/2023-12-02/icpc-2023-hefei-judgehosts-scale.html",target:"_blank",rel:"noopener noreferrer"},d=(0,i.uE)('<p>关于 CAICPC 镜像：</p><ul><li>本镜像基于标准 ICPC 镜像修改而来。</li><li>添加了状态上报，用于统一监测服务器状态；</li><li>支持调用 VLC 截取屏幕和摄像头流供 live 模块使用；</li><li>支持批量下发管理命令（一键锁屏/解锁/重启/显示座位号等等）；</li></ul><h2 id="day-0-准备工作" tabindex="-1"><a class="header-anchor" href="#day-0-准备工作"><span>Day 0 准备工作</span></a></h2><ul><li>使用安装脚本安装 Hydro。</li><li>导入所需的比赛用户。</li><li>安装 <code>@hydrooj/onsite-toolkit</code> 插件。</li><li>参照 <code>https://github.com/hydro-dev/xcpc-tools</code> 说明安装独立模块。</li><li>由志愿者打开所有选手机桌面上的 seat.txt 文件，填入座位号，保存，后台所见座位号应当同步刷新；</li><li>如果需要根据座位号自动登录，此时导出 IP/队伍 表，在 onsite-toolkit 设置中填入。</li><li>准备完成后，批量修改选手机为强密码！！！</li></ul><p>// TODO: tools 配置</p><p>关于打印：</p><ul><li>打印功能在 <code>xcpc-tools</code> 中配置。</li><li>在 server 端新建一个打印机 token，在赛场旁摆放一台电脑，安装对应的打印机驱动，以 client 模式运行 <code>xcpc-tools</code>，填入 token，即可连接。</li><li><code>xcpc-tools</code> 会自动抓取打印任务自动打印，默认每个文件最多打印五页，队伍名称和座位号会在纸张顶部。</li></ul><p>关于气球：</p><ul><li>气球通常由小票机进行打印。每当有队伍通过题目时，会打印一张小票；</li><li>小票内含队伍名，座位号，气球颜色，该队伍当前的所有气球颜色等信息，志愿者拿到小票后根据其上内容分发气球。</li></ul><p>关于自动登录：</p><p>启用后，在地址列表的用户均会自动登录上指定的对应账户，用户不可重新登录，不可登出，不可在其他 IP 登录。 操作前请确认列表中不含管理员账号和管理员所使用的机器 IP ！</p><p>可选：</p><ul><li>安装 grafana 和 netdata 用于监测服务器运行状态 <s>以及给领导展示</s>；</li></ul><h2 id="day-1-热身赛" tabindex="-1"><a class="header-anchor" href="#day-1-热身赛"><span>Day 1 热身赛</span></a></h2><p>热身赛通常使用至少一道可以反复提交爆破的题目，引导选手大量提交，测试服务器负载情况。</p><h2 id="day-2-正式赛" tabindex="-1"><a class="header-anchor" href="#day-2-正式赛"><span>Day 2 正式赛</span></a></h2><ul><li>如果需要发气球请提早给气球打气（通常比赛的前一小时气球组会非常忙）</li><li>记得给打印机补纸，小票机同理。</li></ul><p>// TODO: 滚榜设置</p>',18),r={},p=(0,l(3744).Z)(r,[["render",function(e,t){const l=(0,i.up)("ExternalLinkIcon");return(0,i.wg)(),(0,i.iD)("div",null,[a,(0,i._)("ul",null,[o,(0,i._)("li",null,[(0,i.Uk)("服务器安装了较新内核的 Linux 系统。已知旧版本的内核在高负载的情况下可能出现锁死的问题 "),(0,i._)("a",n,[(0,i.Uk)("详情"),(0,i.Wm)(l)]),(0,i.Uk)("；")])]),d])}]])},3744:(e,t)=>{t.Z=(e,t)=>{const l=e.__vccOpts||e;for(const[e,i]of t)l[e]=i;return l}}}]);